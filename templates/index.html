<html>
  <head>
    <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.0/build/pure-min.css">
    <style>
     body {
	 max-width: 900px;
	 margin: 0 auto;

     }
     .xlarge {
	 font-size: 125%;
     }

     h1 {
	 text-align: center;
	 margin: 50px;
     }

     h1 > small {
	 display: block;
	 color: #aaaaaa;
	 font-size: 75%;
     }

     .pure-button-primary {
	 display: block;
	 width: 100%;
	 margin-top: 20px;
	 
     }
     dd {
	 display: block;
	 margin-left: 40px;
     }

     #search-form {
	 margin-bottom: 50px;
	 
     }
     
    </style>
   </head>
   <body>
       <h1>
	   {% if settings.MAIN_IMAGE %}
	   <img src="{{settings.MAIN_IMAGE}}" />
	   {% endif %}
	   {{settings.TITLE}}
	   <small>{{settings.SUB_TITLE}}</small>
       </h1>

       {% with messages = get_flashed_messages() %}
       {% if messages %}
       <ul class="flashes">
	   {% for message in messages %}
	   <li>{{ message }}</li>
	   {% endfor %}
       </ul>
       {% endif %}
       {% endwith %}

       <form id="search-form" class="pure-form xlarge" action="/golinks/search" method="POST">

	   <input type="text" id="search" name="search" class="pure-input-1-1"
		  placeholder="search for a go-link"
		  value="{{previous_search_text}}"
	   />
	   <button type="submit" class="pure-button">
	       {{settings.SEARCH_TEXT}}
	   </button>
       </form>
      
       <form id="crud-form" class="pure-form xlarge" action="/golinks/submit" method="POST">

	<label for="name">
	  Name
	</label>
	<input type="text" id="name" placeholder="name"
	       name="name" class="pure-input-3-12"
	       {% if edit_record %}
	       value="{{edit_record.name}}"
	       {% endif %}
	>

	<label for="url">
	  Url
	</label>
	<input type="text" id="url" placeholder="url"
	       name="url" class="pure-input-4-12"
	       {% if edit_record %}
	       value="{{edit_record.url}}"
	       {% endif %}
	>

	
	<button type="submit" class="pure-button pure-button-primary">
	    {{settings.CREATE_UPDATE_TEXT}}
	</button>

      </form>

      {% if all_records %}
      <div class="found_links">
	  <h3>Found Links</h3>
	  <dl class='records'>
	      {% for record in all_records %}
	      <a href="/golinks/edit/{{record.name}}/">
		  <dt>{{record.name}}</dt>
	      </a>
	      <dd>{{record.url}}</dd>
	      <a href="/golinks/delete/{{record.name}}/">
		  <dd>[delete]</dd>
	      </a>

	      {% endfor %}
	  </dl>
      </div>
      {% endif %}

  </body>
</html>
